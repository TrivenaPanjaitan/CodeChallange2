(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{8312:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return o(1364)}])},21:function(e,t,o){"use strict";var a=o(5893);o(7294);var r=o(1163),n=o(410),i=o(2010),s=o.n(i);t.Z=e=>{var t,o;let{book:i}=e,c=(0,r.useRouter)(),{volumeInfo:l}=i;return(0,a.jsxs)("div",{className:s().card,children:[(0,a.jsx)("h2",{className:s().title,children:l.title}),(0,a.jsx)("p",{className:s().authors,children:null===(t=l.authors)||void 0===t?void 0:t.join(", ")}),(0,a.jsx)("img",{src:null===(o=l.imageLinks)||void 0===o?void 0:o.thumbnail,alt:l.title,className:s().image}),(0,a.jsx)("button",{onClick:()=>{c.push("/book?id=".concat(i.id))},className:s().link,children:"More Info"}),(0,a.jsx)("div",{className:s().favoriteButton,children:(0,a.jsx)(n.Z,{bookId:i.id})})]})}},410:function(e,t,o){"use strict";var a=o(5893),r=o(7294),n=o(3669),i=o.n(n);t.Z=e=>{let{bookId:t}=e,[o,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var e;n(((null===(e=localStorage.getItem("favorites"))||void 0===e?void 0:e.split(","))||[]).includes(t))},[t]),(0,a.jsx)("button",{onClick:()=>{var e;let a=(null===(e=localStorage.getItem("favorites"))||void 0===e?void 0:e.split(","))||[];o?a=a.filter(e=>e!==t):a.push(t),localStorage.setItem("favorites",a.join(",")),n(!o)},className:"".concat(i().button," ").concat(o?i().favorite:i().notFavorite),children:o?"Unfavorite":"Favorite"})}},1364:function(e,t,o){"use strict";o.r(t);var a=o(5893),r=o(7294),n=o(6471),i=o(21),s=o(7268),c=o.n(s);t.default=()=>{let[e,t]=(0,r.useState)(()=>localStorage.getItem("bookSearchQuery")||""),[o,s]=(0,r.useState)([]),[l,u]=(0,r.useState)("ebooks"),[d,h]=(0,r.useState)("relevance");(0,r.useEffect)(()=>{localStorage.setItem("bookSearchQuery",e)},[e]);let v=async()=>{if(e)try{let t=await (0,n.yt)(e,l,d);s(t||[])}catch(e){console.error("Error fetching books:",e),s([])}};return(0,a.jsxs)("div",{className:c().container,children:[(0,a.jsx)("div",{className:c().header,children:(0,a.jsx)("h1",{children:"Book Search"})}),(0,a.jsxs)("div",{className:c().searchBar,children:[(0,a.jsx)("input",{type:"text",placeholder:"Search for books...",value:e,onChange:e=>t(e.target.value)}),(0,a.jsx)("button",{onClick:v,children:"Search"}),(0,a.jsxs)("select",{onChange:e=>u(e.target.value),value:l,children:[(0,a.jsx)("option",{value:"ebooks",children:"All eBooks"}),(0,a.jsx)("option",{value:"free-ebooks",children:"Free eBooks"}),(0,a.jsx)("option",{value:"paid-ebooks",children:"Paid eBooks"})]}),(0,a.jsxs)("select",{onChange:e=>h(e.target.value),value:d,children:[(0,a.jsx)("option",{value:"relevance",children:"Relevance"}),(0,a.jsx)("option",{value:"newest",children:"Newest"})]})]}),(0,a.jsx)("div",{className:c().bookGrid,children:(o||[]).map(e=>(0,a.jsx)(i.Z,{book:e},e.id))})]})}},6471:function(e,t,o){"use strict";o.d(t,{Av:function(){return r},dU:function(){return n},yt:function(){return a}});let a=async function(e,t,o){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;try{let n=await fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&filter=").concat(t,"&orderBy=").concat(o,"&startIndex=").concat(a,"&maxResults=").concat(r,"&key=").concat("AIzaSyBPkVt6ZSkx0mmMayfmoB-jXX7hsnIkEtI"));if(!n.ok)throw Error("Failed to fetch books");return(await n.json()).items}catch(e){return console.error("Error fetching books:",e),[]}},r=async e=>{let t=await fetch("https://www.googleapis.com/books/v1/volumes/".concat(e));return await t.json()},n=async e=>await Promise.all(e.map(e=>r(e)))},2010:function(e){e.exports={card:"BookCard_card__E2xRC",title:"BookCard_title__K2s0Z",authors:"BookCard_authors___lfwS",image:"BookCard_image__UHIeI",link:"BookCard_link___Y4Ii",favoriteButton:"BookCard_favoriteButton__qlU7e"}},3669:function(e){e.exports={button:"FavoriteButton_button__miIDg",favorite:"FavoriteButton_favorite__B1pzP",notFavorite:"FavoriteButton_notFavorite__SYepb"}},7268:function(e){e.exports={container:"HomePage_container__TIkf7",header:"HomePage_header__UHxh0",searchBar:"HomePage_searchBar__JpRjP",bookGrid:"HomePage_bookGrid__nQvcb"}},1163:function(e,t,o){e.exports=o(9090)}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);