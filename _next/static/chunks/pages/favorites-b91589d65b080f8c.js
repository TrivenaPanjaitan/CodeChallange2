(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{6111:function(t,e,n){"use strict";n(7294);var r=n(1163),o=n(8861),a=n(2010),i=n.n(a),s=n(5893);e.Z=function(t){var e,n,a=t.book,c=(0,r.useRouter)(),u=a.volumeInfo;return(0,s.jsxs)("div",{className:i().card,children:[(0,s.jsx)("h2",{className:i().title,children:u.title}),(0,s.jsx)("p",{className:i().authors,children:null===(e=u.authors)||void 0===e?void 0:e.join(", ")}),(0,s.jsx)("img",{src:null===(n=u.imageLinks)||void 0===n?void 0:n.thumbnail,alt:u.title,className:i().image}),(0,s.jsx)("button",{onClick:function(){c.push("/book?id=".concat(a.id))},className:i().link,children:"More Info"}),(0,s.jsx)("div",{className:i().favoriteButton,children:(0,s.jsx)(o.Z,{bookId:a.id})})]})}},8861:function(t,e,n){"use strict";var r=n(7294),o=n(3669),a=n.n(o),i=n(5893);e.Z=function(t){var e=t.bookId,n=(0,r.useState)(!1),o=n[0],s=n[1];return(0,r.useEffect)(function(){var t;s(((null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[]).includes(e))},[e]),(0,i.jsx)("button",{onClick:function(){var t,n=(null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[];o?n=n.filter(function(t){return t!==e}):n.push(e),localStorage.setItem("favorites",n.join(",")),s(!o)},className:"".concat(a().button," ").concat(o?a().favorite:a().notFavorite),children:o?"Unfavorite":"Favorite"})}},6802:function(t,e,n){"use strict";n.r(e),n.d(e,{default:function(){return d}});var r=n(29),o=n(4687),a=n.n(o),i=n(7294),s=function(){var t;return(null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[]},c=n(6022),u=n(6111),l=n(5510),f=n.n(l),v=n(5893),d=function(){var t=(0,i.useState)([]),e=t[0],n=t[1],o=(0,i.useState)(!0),l=o[0],d=o[1],h=(0,i.useState)(null),_=h[0],p=h[1];return((0,i.useEffect)(function(){try{var t;(t=(0,r.Z)(a().mark(function t(){var e,r;return a().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(!((e=s()).length>0)){t.next=6;break}return t.next=4,(0,c.dU)(e);case 4:r=t.sent,n(r||[]);case 6:d(!1);case 7:case"end":return t.stop()}},t)})),function(){return t.apply(this,arguments)})()}catch(t){console.error("Error fetching favorite books:",t),p("Failed to load favorite books.")}},[]),l)?(0,v.jsx)("p",{className:f().loading,children:"Loading..."}):_?(0,v.jsx)("p",{className:f().error,children:_}):(0,v.jsxs)("div",{className:f().container,children:[(0,v.jsxs)("div",{className:f().header,children:[(0,v.jsx)("h1",{children:"Your Favorite Books"}),!l&&0===e.length&&(0,v.jsx)("p",{children:"You have no favorite books yet."})]}),e.length>0&&(0,v.jsx)("div",{className:f().gridContainer,children:e.map(function(t){return(0,v.jsx)(u.Z,{book:t},t.id)})})]})}},6022:function(t,e,n){"use strict";n.d(e,{Av:function(){return l},dU:function(){return f},yt:function(){return u}});var r,o,a,i=n(29),s=n(4687),c=n.n(s),u=(r=(0,i.Z)(c().mark(function t(e,n,r){var o,a,i,s,u=arguments;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:0,a=u.length>4&&void 0!==u[4]?u[4]:10,t.prev=2,t.next=5,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(e,"&filter=").concat(n,"&orderBy=").concat(r,"&startIndex=").concat(o,"&maxResults=").concat(a,"&key=").concat("AIzaSyBPkVt6ZSkx0mmMayfmoB-jXX7hsnIkEtI"));case 5:if((i=t.sent).ok){t.next=8;break}throw Error("Failed to fetch books");case 8:return t.next=10,i.json();case 10:return s=t.sent,t.abrupt("return",s.items);case 14:return t.prev=14,t.t0=t.catch(2),console.error("Error fetching books:",t.t0),t.abrupt("return",[]);case 18:case"end":return t.stop()}},t,null,[[2,14]])})),function(t,e,n){return r.apply(this,arguments)}),l=(o=(0,i.Z)(c().mark(function t(e){var n,r;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://www.googleapis.com/books/v1/volumes/".concat(e));case 2:return n=t.sent,t.next=5,n.json();case 5:return r=t.sent,t.abrupt("return",r);case 7:case"end":return t.stop()}},t)})),function(t){return o.apply(this,arguments)}),f=(a=(0,i.Z)(c().mark(function t(e){var n;return c().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map(function(t){return l(t)}));case 2:return n=t.sent,t.abrupt("return",n);case 4:case"end":return t.stop()}},t)})),function(t){return a.apply(this,arguments)})},1903:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites",function(){return n(6802)}])},2010:function(t){t.exports={card:"BookCard_card__E2xRC",title:"BookCard_title__K2s0Z",authors:"BookCard_authors___lfwS",image:"BookCard_image__UHIeI",link:"BookCard_link___Y4Ii",favoriteButton:"BookCard_favoriteButton__qlU7e"}},3669:function(t){t.exports={button:"FavoriteButton_button__miIDg",favorite:"FavoriteButton_favorite__B1pzP",notFavorite:"FavoriteButton_notFavorite__SYepb"}},5510:function(t){t.exports={container:"FavoritesPage_container__4OFBy",header:"FavoritesPage_header___4Xp5",gridContainer:"FavoritesPage_gridContainer__sYBvK",loading:"FavoritesPage_loading__t2gSZ",error:"FavoritesPage_error__Fh974"}},1163:function(t,e,n){t.exports=n(8194)},29:function(t,e,n){"use strict";function r(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){n(t);return}s.done?e(c):Promise.resolve(c).then(r,o)}function o(t){return function(){var e=this,n=arguments;return new Promise(function(o,a){var i=t.apply(e,n);function s(t){r(i,o,a,s,c,"next",t)}function c(t){r(i,o,a,s,c,"throw",t)}s(void 0)})}}n.d(e,{Z:function(){return o}})}},function(t){t.O(0,[888,774,179],function(){return t(t.s=1903)}),_N_E=t.O()}]);