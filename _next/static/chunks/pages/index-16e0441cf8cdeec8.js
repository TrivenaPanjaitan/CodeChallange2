(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{6111:function(e,t,n){"use strict";n(7294);var r=n(1163),o=n(8861),a=n(2010),c=n.n(a),s=n(5893);t.Z=function(e){var t,n,a=e.book,i=(0,r.useRouter)(),u=a.volumeInfo;return(0,s.jsxs)("div",{className:c().card,children:[(0,s.jsx)("h2",{className:c().title,children:u.title}),(0,s.jsx)("p",{className:c().authors,children:null===(t=u.authors)||void 0===t?void 0:t.join(", ")}),(0,s.jsx)("img",{src:null===(n=u.imageLinks)||void 0===n?void 0:n.thumbnail,alt:u.title,className:c().image}),(0,s.jsx)("button",{onClick:function(){i.push("/book?id=".concat(a.id))},className:c().link,children:"More Info"}),(0,s.jsx)("div",{className:c().favoriteButton,children:(0,s.jsx)(o.Z,{bookId:a.id})})]})}},8861:function(e,t,n){"use strict";var r=n(7294),o=n(3669),a=n.n(o),c=n(5893);t.Z=function(e){var t=e.bookId,n=(0,r.useState)(!1),o=n[0],s=n[1];return(0,r.useEffect)(function(){var e;s(((null===(e=localStorage.getItem("favorites"))||void 0===e?void 0:e.split(","))||[]).includes(t))},[t]),(0,c.jsx)("button",{onClick:function(){var e,n=(null===(e=localStorage.getItem("favorites"))||void 0===e?void 0:e.split(","))||[];o?n=n.filter(function(e){return e!==t}):n.push(t),localStorage.setItem("favorites",n.join(",")),s(!o)},className:"".concat(a().button," ").concat(o?a().favorite:a().notFavorite),children:o?"Unfavorite":"Favorite"})}},6237:function(e,t,n){"use strict";n.r(t);var r=n(29),o=n(4687),a=n.n(o),c=n(7294),s=n(6111),i=n(7268),u=n.n(i),l=n(6022),f=n(5893);t.default=function(){var e,t=(0,c.useState)(function(){return localStorage.getItem("bookSearchQuery")||""}),n=t[0],o=t[1],i=(0,c.useState)([]),v=i[0],d=i[1],h=(0,c.useState)("ebooks"),p=h[0],_=h[1],k=(0,c.useState)("relevance"),m=k[0],x=k[1];(0,c.useEffect)(function(){localStorage.setItem("bookSearchQuery",n)},[n]);var b=(e=(0,r.Z)(a().mark(function e(){return a().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!n){e.next=12;break}return e.prev=1,e.next=4,(0,l.yt)(n,p,m);case 4:d(e.sent||[]),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(1),console.error("Error fetching books:",e.t0),d([]);case 12:case"end":return e.stop()}},e,null,[[1,8]])})),function(){return e.apply(this,arguments)});return(0,f.jsxs)("div",{className:u().container,children:[(0,f.jsx)("div",{className:u().header,children:(0,f.jsx)("h1",{children:"Book Search"})}),(0,f.jsxs)("div",{className:u().searchBar,children:[(0,f.jsx)("input",{type:"text",placeholder:"Search for books...",value:n,onChange:function(e){return o(e.target.value)}}),(0,f.jsx)("button",{onClick:b,children:"Search"}),(0,f.jsxs)("div",{className:u().filters,children:[(0,f.jsxs)("select",{onChange:function(e){return _(e.target.value)},value:p,children:[(0,f.jsx)("option",{value:"ebooks",children:"All eBooks"}),(0,f.jsx)("option",{value:"free-ebooks",children:"Free eBooks"}),(0,f.jsx)("option",{value:"paid-ebooks",children:"Paid eBooks"})]}),(0,f.jsxs)("select",{onChange:function(e){return x(e.target.value)},value:m,children:[(0,f.jsx)("option",{value:"relevance",children:"Relevance"}),(0,f.jsx)("option",{value:"newest",children:"Newest"})]})]})]}),(0,f.jsx)("div",{className:u().bookGrid,children:(v||[]).map(function(e){return(0,f.jsx)(s.Z,{book:e},e.id)})})]})}},6022:function(e,t,n){"use strict";n.d(t,{Av:function(){return l},dU:function(){return f},yt:function(){return u}});var r,o,a,c=n(29),s=n(4687),i=n.n(s),u=(r=(0,c.Z)(i().mark(function e(t,n,r){var o,a,c,s,u=arguments;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return o=u.length>3&&void 0!==u[3]?u[3]:0,a=u.length>4&&void 0!==u[4]?u[4]:10,e.prev=2,e.next=5,fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&filter=").concat(n,"&orderBy=").concat(r,"&startIndex=").concat(o,"&maxResults=").concat(a,"&key=").concat("AIzaSyBPkVt6ZSkx0mmMayfmoB-jXX7hsnIkEtI"));case 5:if((c=e.sent).ok){e.next=8;break}throw Error("Failed to fetch books");case 8:return e.next=10,c.json();case 10:return s=e.sent,e.abrupt("return",s.items);case 14:return e.prev=14,e.t0=e.catch(2),console.error("Error fetching books:",e.t0),e.abrupt("return",[]);case 18:case"end":return e.stop()}},e,null,[[2,14]])})),function(e,t,n){return r.apply(this,arguments)}),l=(o=(0,c.Z)(i().mark(function e(t){var n,r;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://www.googleapis.com/books/v1/volumes/".concat(t));case 2:return n=e.sent,e.next=5,n.json();case 5:return r=e.sent,e.abrupt("return",r);case 7:case"end":return e.stop()}},e)})),function(e){return o.apply(this,arguments)}),f=(a=(0,c.Z)(i().mark(function e(t){var n;return i().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Promise.all(t.map(function(e){return l(e)}));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)})),function(e){return a.apply(this,arguments)})},8312:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return n(6237)}])},2010:function(e){e.exports={card:"BookCard_card__E2xRC",title:"BookCard_title__K2s0Z",authors:"BookCard_authors___lfwS",image:"BookCard_image__UHIeI",link:"BookCard_link___Y4Ii",favoriteButton:"BookCard_favoriteButton__qlU7e"}},3669:function(e){e.exports={button:"FavoriteButton_button__miIDg",favorite:"FavoriteButton_favorite__B1pzP",notFavorite:"FavoriteButton_notFavorite__SYepb"}},7268:function(e){e.exports={container:"HomePage_container__TIkf7",header:"HomePage_header__UHxh0",searchBar:"HomePage_searchBar__JpRjP",filters:"HomePage_filters___ShcY",bookGrid:"HomePage_bookGrid__nQvcb"}},1163:function(e,t,n){e.exports=n(8194)},29:function(e,t,n){"use strict";function r(e,t,n,r,o,a,c){try{var s=e[a](c),i=s.value}catch(e){n(e);return}s.done?t(i):Promise.resolve(i).then(r,o)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(o,a){var c=e.apply(t,n);function s(e){r(c,o,a,s,i,"next",e)}function i(e){r(c,o,a,s,i,"throw",e)}s(void 0)})}}n.d(t,{Z:function(){return o}})}},function(e){e.O(0,[888,774,179],function(){return e(e.s=8312)}),_N_E=e.O()}]);