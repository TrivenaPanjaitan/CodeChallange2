(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[389],{1903:function(t,o,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/favorites",function(){return e(9448)}])},21:function(t,o,e){"use strict";var a=e(5893);e(7294);var r=e(1163),n=e(410),i=e(2010),s=e.n(i);o.Z=t=>{var o,e;let{book:i}=t,c=(0,r.useRouter)(),{volumeInfo:l}=i;return(0,a.jsxs)("div",{className:s().card,children:[(0,a.jsx)("h2",{className:s().title,children:l.title}),(0,a.jsx)("p",{className:s().authors,children:null===(o=l.authors)||void 0===o?void 0:o.join(", ")}),(0,a.jsx)("img",{src:null===(e=l.imageLinks)||void 0===e?void 0:e.thumbnail,alt:l.title,className:s().image}),(0,a.jsx)("button",{onClick:()=>{c.push("/book?id=".concat(i.id))},className:s().link,children:"More Info"}),(0,a.jsx)("div",{className:s().favoriteButton,children:(0,a.jsx)(n.Z,{bookId:i.id})})]})}},410:function(t,o,e){"use strict";var a=e(5893),r=e(7294),n=e(3669),i=e.n(n);o.Z=t=>{let{bookId:o}=t,[e,n]=(0,r.useState)(!1);return(0,r.useEffect)(()=>{var t;n(((null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[]).includes(o))},[o]),(0,a.jsx)("button",{onClick:()=>{var t;let a=(null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[];e?a=a.filter(t=>t!==o):a.push(o),localStorage.setItem("favorites",a.join(",")),n(!e)},className:"".concat(i().button," ").concat(e?i().favorite:i().notFavorite),children:e?"Unfavorite":"Favorite"})}},9448:function(t,o,e){"use strict";e.r(o),e.d(o,{default:function(){return u}});var a=e(5893),r=e(7294);let n=()=>{var t;return(null===(t=localStorage.getItem("favorites"))||void 0===t?void 0:t.split(","))||[]};var i=e(6471),s=e(21),c=e(5510),l=e.n(c),u=()=>{let[t,o]=(0,r.useState)([]),[e,c]=(0,r.useState)(!0),[u,d]=(0,r.useState)(null);return((0,r.useEffect)(()=>{try{(async()=>{let t=n();if(t.length>0){let e=await (0,i.dU)(t);o(e||[])}c(!1)})()}catch(t){console.error("Error fetching favorite books:",t),d("Failed to load favorite books.")}},[]),e)?(0,a.jsx)("p",{className:l().loading,children:"Loading..."}):u?(0,a.jsx)("p",{className:l().error,children:u}):(0,a.jsxs)("div",{className:l().container,children:[(0,a.jsxs)("div",{className:l().header,children:[(0,a.jsx)("h1",{children:"Your Favorite Books"}),!e&&0===t.length&&(0,a.jsx)("p",{children:"You have no favorite books yet."})]}),t.length>0&&(0,a.jsx)("div",{className:l().gridContainer,children:t.map(t=>(0,a.jsx)(s.Z,{book:t},t.id))})]})}},6471:function(t,o,e){"use strict";e.d(o,{Av:function(){return r},dU:function(){return n},yt:function(){return a}});let a=async function(t,o,e){let a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,r=arguments.length>4&&void 0!==arguments[4]?arguments[4]:10;try{let n=await fetch("https://www.googleapis.com/books/v1/volumes?q=".concat(t,"&filter=").concat(o,"&orderBy=").concat(e,"&startIndex=").concat(a,"&maxResults=").concat(r,"&key=").concat("AIzaSyBPkVt6ZSkx0mmMayfmoB-jXX7hsnIkEtI"));if(!n.ok)throw Error("Failed to fetch books");return(await n.json()).items}catch(t){return console.error("Error fetching books:",t),[]}},r=async t=>{let o=await fetch("https://www.googleapis.com/books/v1/volumes/".concat(t));return await o.json()},n=async t=>await Promise.all(t.map(t=>r(t)))},2010:function(t){t.exports={card:"BookCard_card__E2xRC",title:"BookCard_title__K2s0Z",authors:"BookCard_authors___lfwS",image:"BookCard_image__UHIeI",link:"BookCard_link___Y4Ii",favoriteButton:"BookCard_favoriteButton__qlU7e"}},3669:function(t){t.exports={button:"FavoriteButton_button__miIDg",favorite:"FavoriteButton_favorite__B1pzP",notFavorite:"FavoriteButton_notFavorite__SYepb"}},5510:function(t){t.exports={container:"FavoritesPage_container__4OFBy",header:"FavoritesPage_header___4Xp5",gridContainer:"FavoritesPage_gridContainer__sYBvK",loading:"FavoritesPage_loading__t2gSZ",error:"FavoritesPage_error__Fh974"}},1163:function(t,o,e){t.exports=e(9090)}},function(t){t.O(0,[888,774,179],function(){return t(t.s=1903)}),_N_E=t.O()}]);